<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spotify Listening Stats</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Inter:wght@400;600&display=swap" rel="stylesheet">

</head>

<body>
  <div class="container">
    <header>
      <div class="user-info">
        <img id="profile-pic" src="" class="profile-img" />
        <h1 class="hand-title">
          <span class="big" id="username">Spotify<br>Stats</span>
          <span class="sub" id="sub-title">Your Listening Stats</span>
        </h1>
      </div>





      <div class="connection">
        <button id="login-button" onclick="redirectToSpotify()">Login</button>
        <button id="logout-button" onclick="logout()" style="display: none;">Log out</button>
        <button id="contact-button"
          onclick="window.location.href='https://github.com/kenybapin/spotify'">Github</button>
        <button id="shareBtn">Share with friends</button>
      </div>
      <p id="login-message" style="display: flex; justify-content: center;">Please log in to view your Spotify listening
        stats ...&nbsp;</p>

    </header>

    <section class="stats">
      <div class="card liked-card">
        <h2>Likes</h2>
        <p id="liked-count">–</p>
      </div>
      <div class="card followers-card">
        <h2>Followers</h2>
        <p id="followers-count">–</p>
      </div>
      <div class="card following-card">
        <h2>Artists</h2>
        <p id="following-count">–</p>
      </div>
      <div class="card playlists-card">
        <h2>Playlists</h2>
        <p id="playlists-count">–</p>
      </div>
    </section>

    <section class="list-section">
      <h2>Top Genres</h2>
      <ul id="top-genres"></ul>
    </section>

    <section class="list-section">
      <h2>Top Songs</h2>
      <ul id="top-tracks" class="track-list"></ul>
    </section>

    <section class="list-section">
      <h2>Top Albums</h2>
      <ul id="top-album" class="track-list"></ul>
    </section>

    <section class="list-section">
      <h2>Recently Played</h2>
      <ul id="recent-tracks" class="track-list"></ul>
    </section>




    <section class="list-section">
      <h2>Your Playlists</h2>
      <ul id="user-playlists" class="track-list"></ul>
    </section>



  </div>

  <div id="previewModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; 
    background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:9999; flex-direction:column;">
    <div>
      <button id="shareConfirm">Share</button>
      <button id="copyConfirm">Copy</button>
      <button id="downloadConfirm">Download</button>
      <button id="closePreview">Cancel</button>
    </div>
    <img id="previewImg"
      style="margin-top: 20px; max-width:100%; min-width:320px; height:70%; border:5px solid lightgray; margin-bottom:20px; clip-path: inset(0 0 25% 0);">

  </div>


  <footer id="site-footer">
    <p>
      A track must be played for more than 30 seconds to be included in play history.<br>
      No listening data is stored or shared — all information is retrieved securely via the Spotify API and processed
      locally in your browser.<br>
      Artist images and album covers are provided by Spotify.<br>
      This site is not affiliated, associated, authorized, endorsed by, or in any way officially connected with
      Spotify.<br><br>
      Spotify is a trademark of Spotify AB.
    </p>
  </footer>

  <script src="script.js"></script>
</body>

</html>
